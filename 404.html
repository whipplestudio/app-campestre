<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Redirecting...</title>
  <script>
    (function() {
      // GitHub Pages SPA redirect solution
      const baseUrl = '/app-campestre';
      const currentPath = window.location.pathname;
      
      // Avoid infinite loops - don't redirect if already on index
      if (currentPath === baseUrl || currentPath === baseUrl + '/' || currentPath === baseUrl + '/index.html') {
        window.location.replace(baseUrl + '/');
        return;
      }
      
      // Remove base URL from path if present
      let redirectPath = currentPath;
      if (currentPath.startsWith(baseUrl)) {
        redirectPath = currentPath.substring(baseUrl.length);
      }
      
      // Only store valid SPA routes (not asset files)
      if (redirectPath && 
          redirectPath !== '/' && 
          redirectPath !== '/index.html' &&
          !redirectPath.match(/\.(js|css|png|jpg|jpeg|gif|svg|ico|woff|woff2|ttf|eot)$/i)) {
        sessionStorage.setItem('spa_redirect', redirectPath);
      }
      
      // Redirect to index.html
      window.location.replace(baseUrl + '/index.html');
    })();
  </script>
</head>
<body>
  <p style="text-align:center;margin-top:50px;font-family:sans-serif;color:#666;">Redirecting...</p>
</body>
</html>